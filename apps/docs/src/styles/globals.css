@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom scrollbar styles */
@layer base {
  /* Light mode scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }

  /* Dark mode scrollbar */
  .dark ::-webkit-scrollbar-track {
    @apply bg-gray-800;
  }

  .dark ::-webkit-scrollbar-thumb {
    @apply bg-gray-600;
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }
}

/* Smooth scrolling */
@layer base {
  html {
    scroll-behavior: smooth;
  }
}

/* Focus styles */
@layer base {
  [tabindex]:focus-visible,
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    @apply outline-none ring-2 ring-indigo-500 ring-offset-2;
  }

  .dark [tabindex]:focus-visible,
  .dark a:focus-visible,
  .dark button:focus-visible,
  .dark input:focus-visible,
  .dark select:focus-visible,
  .dark textarea:focus-visible {
    @apply ring-indigo-400 ring-offset-gray-900;
  }
}

/* Prose customization for markdown content */
@layer components {
  .prose-docs {
    @apply prose prose-gray max-w-none dark:prose-invert;
    @apply prose-headings:scroll-mt-20 prose-headings:font-bold;
    @apply prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl prose-h4:text-lg;
    @apply prose-p:leading-relaxed;
    @apply prose-a:text-indigo-600 prose-a:no-underline prose-a:font-medium hover:prose-a:underline;
    @apply dark:prose-a:text-indigo-400;
    @apply prose-strong:font-semibold prose-strong:text-gray-900 dark:prose-strong:text-gray-100;
    @apply prose-code:rounded-md prose-code:bg-gray-100 prose-code:px-1.5 prose-code:py-0.5;
    @apply prose-code:text-gray-800 prose-code:font-medium;
    @apply prose-code:before:content-[''] prose-code:after:content-[''];
    @apply dark:prose-code:bg-gray-800 dark:prose-code:text-gray-200;
    @apply prose-pre:bg-gray-900 prose-pre:text-gray-100;
    @apply prose-blockquote:border-l-indigo-500 prose-blockquote:bg-gray-50;
    @apply dark:prose-blockquote:border-l-indigo-400 dark:prose-blockquote:bg-gray-900;
    @apply prose-table:overflow-hidden prose-table:rounded-lg prose-table:border prose-table:border-gray-200;
    @apply dark:prose-table:border-gray-700;
    @apply prose-thead:bg-gray-50 dark:prose-thead:bg-gray-800;
    @apply prose-th:font-semibold prose-th:text-left;
    @apply prose-img:rounded-lg prose-img:shadow-lg;
  }
}

/* Animations */
@layer utilities {
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slide-up {
    from {
      transform: translateY(10px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down {
    from {
      transform: translateY(-10px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out;
  }

  .animate-slide-down {
    animation: slide-down 0.3s ease-out;
  }
}

/* Code syntax highlighting overrides */
@layer components {
  /* Line numbers */
  .line-numbers {
    counter-reset: line;
  }

  .line-numbers > span {
    counter-increment: line;
  }

  .line-numbers > span:before {
    content: counter(line);
    @apply mr-4 inline-block w-4 text-right text-gray-500;
  }

  /* Highlighted lines */
  .highlight-line {
    @apply -mx-4 bg-gray-800/50 px-4;
  }
}

/* Loading skeleton */
@layer components {
  .skeleton {
    @apply animate-pulse rounded-md bg-gray-200 dark:bg-gray-700;
  }
}

/* Utility classes */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .fade-edge {
    mask-image: linear-gradient(to bottom, transparent, black 20px, black calc(100% - 20px), transparent);
  }
}